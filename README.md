# Travel Agency

## Mermaid ER diagram

[![](https://mermaid.ink/img/eyJjb2RlIjoiZXJEaWFncmFtXG4gICAgVVNFUl9ST0xFIHx8LS1veyBVU0VSIDogaXNcbiAgICBVU0VSIHtcbiAgICAgICAgbG9uZyBpZFxuICAgICAgICBzdHJpbmcgbmFtZVxuICAgICAgICBzdHJpbmcgdXNlcm5hbWVcbiAgICAgICAgc3RyaW5nIHBhc3N3b3JkXG4gICAgfVxuICAgIFVTRVJfUk9MRSB8fC0tb3sgUk9MRSA6IGFsbG93c1xuICAgIFJPTEUge1xuICAgICAgICBsb25nIGlkXG4gICAgICAgIHN0cmluZyBuYW1lXG4gICAgfVxuICAgIFVTRVIgfHwtLW97IENVU1RPTUVSOiBoYXNcbiAgICBDVVNUT01FUiB7XG4gICAgICAgIGxvbmcgaWRcbiAgICAgICAgc3RyaW5nIGZyaXN0TmFtZVxuICAgICAgICBzdHJpbmcgbGFzdE5hbWVcbiAgICAgICAgc3RyaW5nIGVtYWlsXG4gICAgfVxuICAgIENVU1RPTUVSIHx8LS1veyBDVVNUT01FUi1QUk9GSUxFOiBoYXNcbiAgICBDVVNUT01FUi1QUk9GSUxFIHtcbiAgICAgICAgbG9uZyBpZFxuICAgICAgICBzdHJpbmcgcGVyc29uYWxJZE5vXG4gICAgICAgIHN0cmluZyBwaG9uZU51bWJlclxuICAgICAgICBzdHJpbmcgYWRkcmVzc1xuICAgICAgICBzdHJpbmcgZ2VuZGVyXG4gICAgfVxuICAgIENVU1RPTUVSIHx8LS1veyBCT09LSU5HOiBwbGFjZXNcbiAgICBCT09LSU5HIHtcbiAgICAgICAgbG9uZyBpZFxuICAgICAgICBkb3VibGUgYm9va2luZ0Nvc3RcbiAgICAgICAgZGF0ZXRpbWUgbG9jYWxEYXRlXG4gICAgfVxuICAgIEJPT0tJTkcgfHwtLW97IERFU1RJTkFUSU9OOiBjb250YWluc1xuICAgIERFU1RJTkFUSU9OIHtcbiAgICAgICAgbG9uZyBpZFxuICAgICAgICBzdHJpbmYgY2l0eVxuICAgICAgICBzdHJpbmcgY291bnRyeVxuICAgIH1cbiAgICBcbiAgIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)](https://mermaid.live/edit#eyJjb2RlIjoiZXJEaWFncmFtXG4gICAgVVNFUl9ST0xFIHx8LS1veyBVU0VSIDogaXNcbiAgICBVU0VSIHtcbiAgICAgICAgbG9uZyBpZFxuICAgICAgICBzdHJpbmcgbmFtZVxuICAgICAgICBzdHJpbmcgdXNlcm5hbWVcbiAgICAgICAgc3RyaW5nIHBhc3N3b3JkXG4gICAgfVxuICAgIFVTRVJfUk9MRSB8fC0tb3sgUk9MRSA6IGFsbG93c1xuICAgIFJPTEUge1xuICAgICAgICBsb25nIGlkXG4gICAgICAgIHN0cmluZyBuYW1lXG4gICAgfVxuICAgIFVTRVIgfHwtLW97IENVU1RPTUVSOiBoYXNcbiAgICBDVVNUT01FUiB7XG4gICAgICAgIGxvbmcgaWRcbiAgICAgICAgc3RyaW5nIGZyaXN0TmFtZVxuICAgICAgICBzdHJpbmcgbGFzdE5hbWVcbiAgICAgICAgc3RyaW5nIGVtYWlsXG4gICAgfVxuICAgIENVU1RPTUVSIHx8LS1veyBDVVNUT01FUi1QUk9GSUxFOiBoYXNcbiAgICBDVVNUT01FUi1QUk9GSUxFIHtcbiAgICAgICAgbG9uZyBpZFxuICAgICAgICBzdHJpbmcgcGVyc29uYWxJZE5vXG4gICAgICAgIHN0cmluZyBwaG9uZU51bWJlclxuICAgICAgICBzdHJpbmcgYWRkcmVzc1xuICAgICAgICBzdHJpbmcgZ2VuZGVyXG4gICAgfVxuICAgIENVU1RPTUVSIHx8LS1veyBCT09LSU5HOiBwbGFjZXNcbiAgICBCT09LSU5HIHtcbiAgICAgICAgbG9uZyBpZFxuICAgICAgICBkb3VibGUgYm9va2luZ0Nvc3RcbiAgICAgICAgZGF0ZXRpbWUgbG9jYWxEYXRlXG4gICAgfVxuICAgIEJPT0tJTkcgfHwtLW97IERFU1RJTkFUSU9OOiBjb250YWluc1xuICAgIERFU1RJTkFUSU9OIHtcbiAgICAgICAgbG9uZyBpZFxuICAgICAgICBzdHJpbmYgY2l0eVxuICAgICAgICBzdHJpbmcgY291bnRyeVxuICAgIH1cbiAgICBcbiAgIiwibWVybWFpZCI6IntcbiAgXCJ0aGVtZVwiOiBcImRlZmF1bHRcIlxufSIsInVwZGF0ZUVkaXRvciI6ZmFsc2UsImF1dG9TeW5jIjp0cnVlLCJ1cGRhdGVEaWFncmFtIjpmYWxzZX0)

## Login
### POST
http://localhost:8080/login
#### Request with Form URL Encoded
![img.png](img.png)

#### Response body example
```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJwb250dXMiLCJyb2xlcyI6WyJST0xFX0FETUlOIiwiUk9MRV9VU0VSIl0sImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9sb2dpbiIsImV4cCI6MTY0MDAyMjEwNH0.NJDmynzoLVPDhaXi15SK-62qEQ4CSneSkEBngj2cUgU"
}
```
## Users
### POST
#### Create user
http://localhost:8080/api/v1/users/create
#### Request body example
```json
{
  "name": "Test User",
  "username": "user",
  "password": "1234"
}
```
#### Add role to user
http://localhost:8080/api/v1/users/add/role?username=user&roleName=ADMIN
#### Delete role from user
http://localhost:8080/api/v1/users/delete/role?username=user&roleName=ADMIN
### GET
#### Get all users
http://localhost:8080/api/v1/users
#### Get user by ID
http://localhost:8080/api/v1/users/{id}
### DELETE
#### Delete user
http://localhost:8080/api/v1/users/{id}

## Roles
### POST
#### Create Role
http://localhost:8080/api/v1/roles/create
### GET
#### Get all roles
http://localhost:8080/api/v1/roles

## Customers
### POST
#### Create customer
http://localhost:8080/api/v1/customers/create
#### Request body example
```json
{
  "firstName": "Test",
  "lastName": "Customer",
  "email": "customer@test.com"
}
```
#### Add itinerary to customer
http://localhost:8080/api/v1/customers/add/itinerary?customerid=1&bookingid=1
#### Delete itinerary from customer
http://localhost:8080/api/v1/customers/delete/itinerary?customerid=1&bookingid=1
### GET
#### Get all customers
http://localhost:8080/api/v1/customers
#### Get customer by ID
http://localhost:8080/api/v1/customers/{id}
### DELETE
#### Delete customer
http://localhost:8080/api/v1/customers/{id}

## Bookings
### POST
#### Create booking
http://localhost:8080/api/v1/bookings/create
#### Request body example
```json
{
  "bookingCost": 100.0
}
```
### GET
#### Get all bookings
http://localhost:8080/api/v1/bookings
#### Get customer by ID
http://localhost:8080/api/v1/bookings/{id}
### DELETE
#### Delete customer
http://localhost:8080/api/v1/bookings/{id}


 


